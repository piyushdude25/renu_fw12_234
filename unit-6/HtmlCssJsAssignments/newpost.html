<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body class="newpostbody">
    <div class="allpostdiv">
      <div class="navbarpostdiv">
        <nav class="postnav">
          <div class="headerdivpost">
            <div class="one">
              <div class="navbar">
                <div class="imgurdiv">
                  <img src="/images/imgurlogo.png" class="imgurlogo" />
                </div>
              </div>
            </div>
            <div class="one">
              <div class="newpostaddiv">
                <div class="two">
                  <i class="fa-solid fa-house"></i>
                </div>
                <div class="two">
                  <span class="newpostplusad"><a href="uploadpage.html">See Your Posts</a></span>
                </div>
                <div class="two"><span class="signinpost"><a href="signin.html">Sign In</a></span></div>
                <div class="two">
                  <span class="signinpost"><a href="signup.html">SignUp</a></span>
                </div>
              </div>
            </div>
          </div>
        </nav>
      </div>
      <div class="containerpost">
        <div class="centerpost">
          <div class="postleft">
            <img src="./images/homebg.png" class="postleftimg" alt="" />
            <div class="dottedpost">Drop images here</div>
          </div>
          <div class="postright">
            <div class="rightone"><p><input type="file" id="videoimage" accept="image/png, image/jpeg" onchange="fileUploadfun(this.files)">Choose Photo/Video</p></div>
            <div class="righttwo">
              <div class="linethread"></div>
              <div class="linetext">/or</div>
              <div class="linethread"></div>
            </div>
            <div class="rightthree"><div>Paste Image or Url</div></div>
            <div class="rightfour">
              <div>
                <span>Meme Gen</span>
              </div>
              <div><span>Video to Gif</div>
              <div><span>My Uploads</div>
            </div>
          </div>
          <span class="crossspan" onclick=removepopup()>x</span>
        </div>
      </div>
      <div class="postfooter"></div>
    </div>
    <script
      src="https://kit.fontawesome.com/446adbe796.js"
      crossorigin="anonymous"
    ></script>
    <script src="script.js"></script>
    <script>
     // var crossspan=document.querySelector(".crossspan");
     var videoimage=document.getElementById("videoimage");
    
      function removepopup(){
        var clickaction=document.querySelector(".centerpost");
        clickaction.setAttribute("id","removepopup");
        console.log("popup")
        window.location.href="home.html"
      }

      function extractFilename(path) {
  if (path.substr(0, 12) == "C:\\fakepath\\")
    return path.substr(12); // modern browser
  var x;
  x = path.lastIndexOf('/');
  if (x >= 0) // Unix-based path
    return path.substr(x+1);
  x = path.lastIndexOf('\\');
  if (x >= 0) // Windows-based path
    return path.substr(x+1);
  return path; // just the filename
}
    const result = JSON.parse(localStorage.getItem("imgurPosted")) || [];
     function fileUploadfun(path){
      // console.log(path);
       const  reader=new FileReader;
       reader.addEventListener("load",()=>{
         console.log(reader.result);
         result.push(reader.result);
         localStorage.setItem("imgurPosted",JSON.stringify(result));
       });
       reader.readAsDataURL(path[0]);
       
      // result.push(path);
      // localStorage.setItem("imgurCart",JSON.stringify(result));


     }
      
    </script>
  </body>
</html>
